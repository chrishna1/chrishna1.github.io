[{"content":"Hi there ðŸ‘‹\nLet\u0026rsquo;s say you have to share a report that you\u0026rsquo;re generating programatically with a consultant in your company every week. Your general approach might be to upload it to your organization\u0026rsquo;s document/file storage platform(e.g OneDrive) and share it. If you\u0026rsquo;ve to do this multiple times, it\u0026rsquo;s boring to perform the same steps over and over again!\nWhat about automating this process? As soon as your report is generated you can run a command that will copy your file present in local to OneDrive server. That would be awesome, right? To achieve that you can use a powerful tool - rclone.\nToday, I\u0026rsquo;ll describe to how to configure rclone with OneDrive(Business plan). rclone doesn\u0026rsquo;t needs an introduction but in case you\u0026rsquo;re not familiar with it \u0026ndash; it\u0026rsquo;s the most popular open-source cli tool to interact with your cloud storage providers. It supports more than 40 cloud storage providers out of the box.\nIf you have business api access provided by your admin then it\u0026rsquo;s pretty straightforward to configure. But if you don\u0026rsquo;t have the api access then you\u0026rsquo;ll get following error while authentication.\nIt is because official API is protected and can only be enabled by administrator. But don\u0026rsquo;t worry. We have an alternative.\nWe can use webdav protocol supported by SharePoint and also by rclone luckily.\nYour configuration process should look like\n~ rclone config No remotes found - make a new one n) New remote s) Set configuration password q) Quit config n/s/q\u0026gt; n name\u0026gt; work_onedrive Type of storage to configure. Enter a string value. Press Enter for the default (\u0026quot;\u0026quot;). Choose a number from below, or type in your own value ... 36 / Union merges the contents of several upstream fs \\ \u0026quot;union\u0026quot; 37 / Webdav \\ \u0026quot;webdav\u0026quot; 38 / Yandex Disk \\ \u0026quot;yandex\u0026quot; ... Storage\u0026gt; 37 ** See help for webdav backend at: https://rclone.org/webdav/ ** URL of http host to connect to Enter a string value. Press Enter for the default (\u0026quot;\u0026quot;). Choose a number from below, or type in your own value 1 / Connect to example.com \\ \u0026quot;https://example.com\u0026quot; url\u0026gt; https://company_name-my.sharepoint.com/personal/your_username/Documents/ Name of the Webdav site/service/software you are using Enter a string value. Press Enter for the default (\u0026quot;\u0026quot;). Choose a number from below, or type in your own value 1 / Nextcloud \\ \u0026quot;nextcloud\u0026quot; 2 / Owncloud \\ \u0026quot;owncloud\u0026quot; 3 / Sharepoint Online, authenticated by Microsoft account. \\ \u0026quot;sharepoint\u0026quot; 4 / Sharepoint with NTLM authentication. Usually self-hosted or on-premises. \\ \u0026quot;sharepoint-ntlm\u0026quot; 5 / Other site/service or software \\ \u0026quot;other\u0026quot; vendor\u0026gt; 3 User name. In case NTLM authentication is used, the username should be in the format 'Domain\\User'. Enter a string value. Press Enter for the default (\u0026quot;\u0026quot;). user\u0026gt; username@company_name.com Password. y) Yes type in my own password g) Generate random password n) No leave this optional password blank (default) y/g/n\u0026gt; y Enter the password: password: Confirm the password: password: Bearer token instead of user/pass (e.g. a Macaroon) Enter a string value. Press Enter for the default (\u0026quot;\u0026quot;). bearer_token\u0026gt; Edit advanced config? (y/n) y) Yes n) No (default) y/n\u0026gt; Remote config -------------------- [work_onedrive] type = webdav url = https://company_name-my.sharepoint.com/personal/your_username/Documents/ vendor = sharepoint user = username@company_name.com pass = *** ENCRYPTED *** -------------------- y) Yes this is OK (default) e) Edit this remote d) Delete this remote y/e/d\u0026gt; y Current remotes: Name Type ==== ==== work_onedrive webdav e) Edit existing remote n) New remote d) Delete remote r) Rename remote c) Copy remote s) Set configuration password q) Quit config e/n/d/r/c/s/q\u0026gt; q Once configuration is completed successfully, you can run following command to ensure your remote is available.\n~ rclone listremotes work_onedrive: If you can see your remote, now, it\u0026rsquo;s just a matter of one command to copy your local file to file storage platform. Here, I\u0026rsquo;m copying a test.txt in my local system to Attachments/ folder on remote.\n~ rclone copy test.txt work_onedrive:/Attachments/ You can try few other commands as well.\n~ rclone tree work_onedrive: / â”œâ”€â”€ example1.xlsx â”œâ”€â”€ Attachments â”‚ â””â”€â”€ example2.xlsx â”œâ”€â”€ example3.xlsx â”œâ”€â”€ Forms â”‚ â”œâ”€â”€ example4.aspx â”‚ â”œâ”€â”€ example5.aspx 9 directories, 52 files ~ rclone lsd work_onedrive: -1 2021-02-22 21:45:50 -1 Attachments -1 2019-04-13 14:18:07 -1 Forms -1 2021-04-14 15:24:31 -1 Microsoft Teams Chat Files -1 2020-04-01 11:25:28 -1 Microsoft Teams Data -1 2021-05-24 15:50:23 -1 Notebooks Now, you can use this not only for sharing report ðŸ˜† but also automate your backing up your files, storing your archives, etc.\nHave fun, Keep hacking!\n","permalink":"https://www.bkjha.com/posts/rclone-onedrive/","summary":"Hi there ðŸ‘‹\nLet\u0026rsquo;s say you have to share a report that you\u0026rsquo;re generating programatically with a consultant in your company every week. Your general approach might be to upload it to your organization\u0026rsquo;s document/file storage platform(e.g OneDrive) and share it. If you\u0026rsquo;ve to do this multiple times, it\u0026rsquo;s boring to perform the same steps over and over again!\nWhat about automating this process? As soon as your report is generated you can run a command that will copy your file present in local to OneDrive server.","title":"Use rclone with OneDrive(Business plan) without Business API access"},{"content":"Hi there ðŸ‘‹\nFinally, I\u0026rsquo;m done with the setup of my blog. The purpose of this blog will be to share the\n ðŸ’¬ Concepts that I keep learning in a simple language ðŸ“š Books that I read and many other things, that I\u0026rsquo;m also not sure about.  Let\u0026rsquo;s hope this blogging spirit continues forever! ðŸ˜Ž\nHave fun, Keep hacking!\n","permalink":"https://www.bkjha.com/posts/first/","summary":"Hi there ðŸ‘‹\nFinally, I\u0026rsquo;m done with the setup of my blog. The purpose of this blog will be to share the\n ðŸ’¬ Concepts that I keep learning in a simple language ðŸ“š Books that I read and many other things, that I\u0026rsquo;m also not sure about.  Let\u0026rsquo;s hope this blogging spirit continues forever! ðŸ˜Ž\nHave fun, Keep hacking!","title":"My first blog"}]